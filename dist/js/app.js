(function(e){function t(t){for(var n,i,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://cdn.jsdelivr.net/gh/Azuriom/AzuriomInstaller/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},2920:function(e,t,r){},"40df":function(e,t,r){"use strict";r("2920")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"9b19":function(e,t,r){e.exports=r.p+"img/logo.svg"},"9c0c":function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=r("1dce"),o=r.n(a),i=r("b1e0"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"row justify-content-center align-items-center py-3 py-md-5"},[r("div",{staticClass:"content col-xl-8 col-lg-10 col-12 p-3 px-md-5 py-md-4 rounded"},[e._m(0),r("AzuriomInstaller")],1)])])])},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("img",{staticClass:"logo mb-4",attrs:{src:r("9b19"),alt:"Azuriom logo"}})])}],l=r("d4ec"),u=r("262e"),d=r("2caf"),p=r("9ab4"),h=r("60a3"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"text-center"},[e._v(e._s(e.$t("title")))]),e._l(e.errors,(function(t){return r("div",{key:t,staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(t)+" "),t.startsWith("cURL error 60:")?r("div",{domProps:{innerHTML:e._s(e.$t("help.cUrl60",{path:e.phpIniPath?e.phpIniPath:e.$t("unknown")}))}}):e._e()])})),r("transition",{attrs:{name:"fade",mode:"out-in"}},[e.preLoading?r("div",{staticClass:"d-flex flex-column align-items-center justify-content-center",staticStyle:{height:"300px"}},[r("div",{staticClass:"spinner-border spinner-border-lg text-primary mb-3"}),r("h2",[e._v(e._s(e.$t("loading")))])]):"requirements"===e.step?r("requirements",{on:{refresh:e.refreshRequirements}}):"download"===e.step?r("download",{on:{error:e.handleError}}):e._e()],1),r("hr"),r("footer",{staticClass:"text-center"},[r("button",{staticClass:"btn btn-link p-0 mb-1 mx-1",attrs:{title:"English"},on:{click:function(t){return e.setLocale("en")}}},[r("svg",{staticClass:"locale-flag",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"}},[r("path",{attrs:{fill:"#00247d",d:"M0 9.059V13h5.628zM4.664 31H13v-5.837zM23 25.164V31h8.335zM0 23v3.941L5.63 23zM31.337 5H23v5.837zM36 26.942V23h-5.631zM36 13V9.059L30.371 13zM13 5H4.664L13 10.837z"}}),r("path",{attrs:{fill:"#cf1b2b",d:"M25.14 23l9.712 6.801c.471-.479.808-1.082.99-1.749L28.627 23H25.14zM13 23h-2.141l-9.711 6.8c.521.53 1.189.909 1.938 1.085L13 23.943V23zm10-10h2.141l9.711-6.8c-.521-.53-1.188-.909-1.937-1.085L23 12.057V13zm-12.141 0L1.148 6.2C.677 6.68.34 7.282.157 7.949L7.372 13h3.487z"}}),r("path",{attrs:{fill:"#eee",d:"M36 21H21v10h2v-5.836L31.335 31H32c1.117 0 2.126-.461 2.852-1.199L25.14 23h3.487l7.215 5.052c.093-.337.158-.686.158-1.052v-.058L30.369 23H36v-2zM0 21v2h5.63L0 26.941V27c0 1.091.439 2.078 1.148 2.8l9.711-6.8H13v.943l-9.914 6.941c.294.07.598.116.914.116h.664L13 25.163V31h2V21H0zM36 9c0-1.091-.439-2.078-1.148-2.8L25.141 13H23v-.943l9.915-6.942C32.62 5.046 32.316 5 32 5h-.663L23 10.837V5h-2v10h15v-2h-5.629L36 9.059V9zM13 5v5.837L4.664 5H4c-1.118 0-2.126.461-2.852 1.2l9.711 6.8H7.372L.157 7.949C.065 8.286 0 8.634 0 9v.059L5.628 13H0v2h15V5h-2z"}}),r("path",{attrs:{fill:"#cf1b2b",d:"M21 15V5h-6v10H0v6h15v10h6V21h15v-6z"}})])]),r("button",{staticClass:"btn btn-link p-0 mb-1 mx-1",attrs:{title:"Français"},on:{click:function(t){return e.setLocale("fr")}}},[r("svg",{staticClass:"locale-flag",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"}},[r("path",{attrs:{fill:"#ed2939",d:"M36 27c0 2.209-1.791 4-4 4h-8V5h8c2.209 0 4 1.791 4 4v18z"}}),r("path",{attrs:{fill:"#002495",d:"M4 5C1.791 5 0 6.791 0 9v18c0 2.209 1.791 4 4 4h8V5H4z"}}),r("path",{attrs:{fill:"#eee",d:"M12 5h12v26H12z"}})])]),r("p",{staticClass:"mb-0",domProps:{innerHTML:e._s(e.$t("copyright",{year:(new Date).getFullYear()}))}})])],2)},f=[],b=r("5530"),v=r("bee2"),g=r("257e"),w=r("ade3"),x=(r("99af"),r("d3b7"),r("2f62")),j=r("bc3a"),O=r.n(j),y=O.a.create({baseURL:window.location.href,headers:{"X-Requested-With":"XMLHttpRequest"}}),_={fetch:function(){return y.get("",{params:{action:"info"}})},download:function(){return y.post("",{action:"download"})}},z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",{staticClass:"text-center",domProps:{innerHTML:e._s(e.$t("welcome"))}}),e.compatible?r("div",{staticClass:"text-center text-success"},[r("p",[r("b-icon-check",{attrs:{scale:"1.5"}}),e._v(" "+e._s(e.$t("requirements.success"))+" ")],1),r("button",{staticClass:"btn btn-primary rounded-pill mx-1",on:{click:e.nextStep}},[e._v(" "+e._s(e.$t("continue"))+" "),r("b-icon-arrow-right")],1)]):r("div",[r("div",{staticClass:"list-group mb-3 requirements"},e._l(e.requirements,(function(t,n){return r("div",{key:n,staticClass:"list-group-item"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-10"},[e._v(" "+e._s(e.translateRequirement(n))+" ")]),"php"===n?r("div",{staticClass:"col-2"},[r("span",{staticClass:"float-right",class:t?"text-success":"text-danger",attrs:{title:e.data.phpFullVersion}},[e._v(" "+e._s(e.data.phpVersion)+" ")])]):r("div",{staticClass:"col-2"},[t?r("b-icon-check",{staticClass:"float-right",attrs:{scale:"2",variant:"success"}}):r("b-icon-x",{staticClass:"float-right",attrs:{scale:"2",variant:"danger"}})],1),t||"php"===n?e._e():r("div",{staticClass:"col-md-12 px-4 mt-2"},[r("b-icon-info-circle-fill",{staticClass:"mr-1",attrs:{variant:"primary"}}),r("span",{domProps:{innerHTML:e._s(e.translateRequirementHelp(n))}})],1)])])})),0),r("div",{staticClass:"alert alert-danger"},[r("b-icon-exclamation-circle-fill"),e._v(" "+e._s(e.$t("requirements.missing"))+" ")],1),r("div",{staticClass:"text-center"},[r("button",{staticClass:"btn btn-secondary mx-1",attrs:{disabled:e.loading},on:{click:e.refreshRequirements}},[r("b-icon-arrow-clockwise"),e._v(" "+e._s(e.$t("requirements.recheck"))+" "),e.loading?r("span",{staticClass:"spinner-border spinner-border-sm"}):e._e()],1)])])])},C=[],q=(r("2ca0"),r("ac1f"),r("5319"),function(e){Object(u["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;Object(l["a"])(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),Object(w["a"])(Object(g["a"])(e),"extracted",void 0),Object(w["a"])(Object(g["a"])(e),"data",void 0),e}return Object(v["a"])(r,[{key:"refreshRequirements",value:function(){this.$emit("refresh")}},{key:"nextStep",value:function(){this.extracted?setTimeout((function(){return window.location.reload(!0)})):this.$store.commit("nextStep","download")}},{key:"translateRequirementHelp",value:function(e){if(e.startsWith("extension-")){var t=this.data.phpVersion;return this.$t("requirements.help.extension",{command:"apt install curl php".concat(t,"-mysql php").concat(t,"-pgsql php").concat(t,"-sqlite php").concat(t,"-bcmath php").concat(t,"-mbstring php").concat(t,"-xml php").concat(t,"-curl php").concat(t,"-zip php").concat(t,"-gd")})}return e.startsWith("function-")?this.$t("requirements.help.function"):"writable"===e?this.$t("requirements.help.writable",{command:"chmod -R 755 ".concat(this.data.path," && chown -R www-data:www-data ").concat(this.data.path)}):"writable"!==e||this.data.htaccess?this.$t("requirements.help.".concat(e)):this.$t("requirements.help.htaccess")}},{key:"translateRequirement",value:function(e){return e.startsWith("extension-")?this.$t("requirements.extension",{extension:e.replace("extension-","")}):e.startsWith("function-")?this.$t("requirements.function",{function:e.replace("function-","")}):this.$t("requirements.".concat(e),{version:this.data.minPhpVersion})}}]),r}(h["b"]));q=Object(p["a"])([Object(h["a"])({computed:Object(b["a"])(Object(b["a"])({},Object(x["c"])(["loading"])),Object(x["b"])(["requirements","compatible","extracted","data"]))})],q);var L=q,k=L,$=r("2877"),P=Object($["a"])(k,z,C,!1,null,null,null),M=P.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v(e._s(e.$t("download.title")))]),r("p",{domProps:{innerHTML:e._s(e.$t("download.legal"))}}),r("div",{staticClass:"text-center"},[r("button",{staticClass:"btn btn-primary",on:{click:e.download}},[r("b-icon-cloud-download"),e._v(" "+e._s(e.$t("download.go"))+" "),e.loading?r("span",{staticClass:"spinner-border spinner-border-sm"}):e._e()],1)])])},V=[],R=function(e){Object(u["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(l["a"])(this,r),t.apply(this,arguments)}return Object(v["a"])(r,[{key:"download",value:function(){var e=this;this.$store.commit("startLoading"),_.download().then((function(){setTimeout((function(){e.$store.commit("finishLoading"),window.location.reload(!0)}),750)})).catch((function(t){e.$store.commit("finishLoading"),e.$emit("error",t)}))}}]),r}(h["b"]);R=Object(p["a"])([Object(h["a"])({computed:Object(x["c"])(["loading"])})],R);var A=R,E=A,S=Object($["a"])(E,H,V,!1,null,null,null),I=S.exports,T=function(e){Object(u["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;Object(l["a"])(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),Object(w["a"])(Object(g["a"])(e),"preLoading",!0),e}return Object(v["a"])(r,[{key:"mounted",value:function(){this.refreshRequirements()}},{key:"refreshRequirements",value:function(){var e=this;this.$store.commit("startLoading"),_.fetch().then((function(t){t.data.requirements||(e.preLoading&&e.$store.commit("nextStep","error"),e.$store.commit("nextStep","error"),e.addError(e.$t("error",{error:"No data in response"}))),e.$store.commit("updateData",t.data)})).catch((function(t){e.preLoading&&e.$store.commit("nextStep","error"),e.handleError(t)})).finally((function(){e.preLoading=!1,e.$store.commit("finishLoading")}))}},{key:"handleError",value:function(e){e.response&&e.response.data&&e.response.data.message?this.addError(e.response.data.message):this.addError(this.$t("error",{error:e}))}},{key:"addError",value:function(e){this.$store.commit("addError",e)}},{key:"setLocale",value:function(e){this.$i18n.locale=e}}]),r}(h["b"]);T=Object(p["a"])([Object(h["a"])({components:{Requirements:M,Download:I},computed:Object(b["a"])(Object(b["a"])({},Object(x["c"])(["loading","step"])),Object(x["b"])(["requirements","compatible","downloaded","errors","phpIniPath"]))})],T);var U=T,Y=U,D=(r("40df"),Object($["a"])(Y,m,f,!1,null,null,null)),W=D.exports,F=(r("f9e3"),function(e){Object(u["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(l["a"])(this,r),t.apply(this,arguments)}return r}(h["b"]));F=Object(p["a"])([Object(h["a"])({components:{AzuriomInstaller:W}})],F);var B=F,N=B,J=(r("5c0b"),Object($["a"])(N,s,c,!1,null,null,null)),X=J.exports,G=function e(){Object(l["a"])(this,e),Object(w["a"])(this,"minPhpVersion",""),Object(w["a"])(this,"phpVersion",""),Object(w["a"])(this,"phpFullVersion",""),Object(w["a"])(this,"phpIniPath",""),Object(w["a"])(this,"path",""),Object(w["a"])(this,"file",""),Object(w["a"])(this,"htaccess",!0),Object(w["a"])(this,"requirements",void 0),Object(w["a"])(this,"compatible",!1),Object(w["a"])(this,"status",void 0)},K=function e(){Object(l["a"])(this,e),Object(w["a"])(this,"loading",!1),Object(w["a"])(this,"data",new G),Object(w["a"])(this,"phpIniPath",void 0),Object(w["a"])(this,"step","requirements"),Object(w["a"])(this,"errors",[])};n["a"].use(x["a"]);var Q=new x["a"].Store({state:new K,getters:{compatible:function(e){return e.data.compatible},requirements:function(e){return e.data.requirements},extracted:function(e){return e.data.status.extracted},errors:function(e){return e.errors},data:function(e){return e.data},phpIniPath:function(e){return e.phpIniPath}},mutations:{startLoading:function(e){e.loading=!0,e.errors=[]},finishLoading:function(e){e.loading=!1},updateData:function(e,t){e.data=t,t&&t.phpIniPath&&(e.phpIniPath=t.phpIniPath)},nextStep:function(e,t){e.step=t,e.errors=[]},addError:function(e,t){e.errors.push(t)},clearErrors:function(e){e.errors=[]}}}),Z=(r("1276"),r("a925")),ee={title:"Installation",loading:"Loading...",continue:"Continue",error:"An error occurred: {error}",welcome:"Azuriom is the <strong>next generation</strong> game CMS, it's <strong>free</strong> and <strong>open-source</strong>, and is a <strong>modern, reliable, fast and secure</strong> alternative to existing CMS so you can have the <strong>best web experience possible</strong>.",copyright:'Copyright &copy; 2019-{year} <a href="https://azuriom.com" target="_blank" rel="noopener noreferrer">Azuriom</a> - All rights reserved.',unknown:"Unknown",help:{cUrl60:'You can follow the steps in the <a href="https://azuriom.com/docs/faq" target="_blank" rel="noopener noreferrer">documentation</a> to solve this issue. Path of the the php.ini: <code>{path}</code>'},requirements:{php:"PHP {version} or higher",writable:"Write permission",rewrite:"URL rewrite enabled",extension:"Extension {extension}",function:"Function {function} enabled",help:{writable:"You can try this command to grant write permission: <code>{command}</code>.",rewrite:'You can follow the instructions in <a href="https://azuriom.com/docs/installation" target="_blank" rel="noopener noreferrer">our documentation</a> to enable URL rewriting.',htaccess:"The file <code>.htaccess</code> or <code>public/.htaccess</code> is missing. Make sure you have enabled hidden files and that the file is present.",extension:"You can try this command to install the missing PHP extensions: <code>{command}</code>.<br>Once done, restart Apache or Nginx.",function:"You need to enable this function in the php.ini file of PHP by editing the value of <code>disable_functions</code>."},missing:"Your server doesn't have the necessary requirements to install Azuriom.",recheck:"Recheck",success:"Your server has the prerequisites to install Azuriom, you can continue the installation !"},download:{title:"Download",legal:'By continuing the installation, you accept <a href="https://azuriom.com/terms" target="_blank" rel="noopener noreferrer">Azuriom\'s TOS</a>.',go:"Download"}},te={title:"Installation",loading:"Chargement...",continue:"Continuer",error:"Une erreur est survenue : {error}",welcome:"Azuriom est un CMS de jeux <strong>dernière génération</strong>, <strong>gratuit et open-source</strong>, qui a pour objectif d'être une alternative <strong>moderne, fiable, rapide et sécurisée</strong> par rapport aux CMS existants afin de vous proposer <strong>la meilleure expérience web</strong> possible pour votre serveur.",copyright:'Copyright &copy; 2019-{year} <a href="https://azuriom.com" target="_blank" rel="noopener noreferrer">Azuriom</a> - Tous droits réservés.',unknown:"Inconnu",help:{cUrl60:'Vous pouvez suivre les étapes dans la <a href="https://azuriom.com/docs/faq" target="_blank" rel="noopener noreferrer">documentation</a> pour corriger ce problème. Chemin du fichier php.ini : <code>{path}</code>'},requirements:{php:"PHP {version} ou plus récent",writable:"Droits en écriture",rewrite:"Réécriture d'URL activée",extension:"Extension {extension}",function:"Fonction {function} activée",help:{writable:"Vous pouvez essayer de faire cette commande pour autoriser l'écriture : <code>{command}</code>.",rewrite:'Vous pouvez suivre les instructions dans <a href="https://azuriom.com/docs/installation" target="_blank" rel="noopener noreferrer">notre documentation</a> pour activer la réécriture d\'URL.',htaccess:"Le fichier <code>.htaccess</code> or <code>public/.htaccess</code> est manquant. Assurez vous d'avoir activé les fichiers cachés et que le fichier est bien présent.",extension:"Vous pouvez essayer de faire cette commande pour installer les extensions PHP manquantes : <code>{command}</code><br>Une fois fait, redémarrez Apache ou Nginx.",function:"Vous devez activer cette fonction dans le fichier php.ini de PHP en modifiant la valeur de <code>disable_functions</code>."},missing:"Votre serveur n'a pas les pré-requis nécessaires pour installer Azuriom.",recheck:"Revérifier",success:"Votre serveur a les pré-requis pour installer Azuriom, vous pouvez continuer l'installation !"},download:{title:"Téléchargement",legal:'En continuant l\'installation, vous acceptez <a href="https://azuriom.com/terms" target="_blank" rel="noopener noreferrer">les CGU d\'Azuriom</a>.',go:"Télécharger"}};function re(){return navigator.language?navigator.language.split("-")[0]:"en"}n["a"].use(Z["a"]);var ne=new Z["a"]({messages:{en:ee,fr:te},locale:re(),fallbackLocale:"en"});n["a"].config.productionTip=!1,n["a"].use(i["a"]),n["a"].use(o.a),new n["a"]({store:Q,i18n:ne,render:function(e){return e(X)}}).$mount("#app")}});
//# sourceMappingURL=app.js.map